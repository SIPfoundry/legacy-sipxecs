<?xml version="1.0"?>
<!DOCTYPE model PUBLIC "-//SIPFoundry//sipXconfig//Model specification 2.0//EN" 
  "http://www.sipfoundry.org/sipXconfig/dtd/setting_2_0.dtd">
<model>
  <type id="switch">
    <boolean>
      <true>
        <value>true</value>
      </true>
      <false>
        <value>false</value>
      </false>
    </boolean>
  </type>
  <group name="bridge-configuration">
    <label>SIP</label>
    <setting name="global-address">
      <label>Public address</label>
      <description>
        This is your public (Internet) address. Set this if your ITSP requires a public address and if you do not wish
        to use STUN to determine that address. If you enter a public address here, any STUN settings will be ignored.
      </description>
    </setting>
    <setting name="global-port">
      <label>Public port</label>
      <type>
        <integer />
      </type>
      <description>Set this if your ITSP requires a specific port.</description>
    </setting>
    <setting name="external-address">
      <label>External address</label>
      <description>
        This is the address of the external arm of sipXbridge facing the ITSP. Normally this is an IP address on the
        internal LAN. If sipxbridge runs in your DMZ or is connected to the Internet then this is the same as your
        public address.
      </description>
    </setting>
    <setting name="external-port">
      <label>External port</label>
      <type>
        <integer required="yes" />
      </type>
      <value>5080</value>
      <description>
        The ITSP facing port of sipXbridge that corresponds to the external address on your machine. This is the NATed
        global port.
      </description>
    </setting>
    <setting name="local-address" hidden="yes">
      <type>
        <string required="yes"></string>
      </type>
      <description>The sipXecs proxy facing address. The sipXecs proxy will send signaling here.</description>
    </setting>
    <setting name="local-port" hidden="yes">
      <type>
        <integer required="yes" />
      </type>
      <value>5090</value>
      <description>The sipXecs proxy facing port. The sipXecs proxy will send signaling here.</description>
    </setting>
    <setting name="sipx-proxy-domain" hidden="yes">
      <description>The sipXecs proxy domain.</description>
    </setting>
    <setting name="stun-server-address">
      <label>STUN server</label>
      <value>stun01.sipphone.com</value>
      <description>
        The STUN server address used to determine the public address of sipXbridge. If you enter a static public address
        above, this field is ignored.
      </description>
    </setting>
    <setting name="sip-keepalive-seconds" advanced="yes">
      <label>Signaling keep-alive interval</label>
      <type>
        <integer required="yes" />
      </type>
      <value>20</value>
      <description>
        Keep-alive timer for SIP signaling in seconds. sipXbridge will periodically re-register with each ITSP to keep
        the NAT pinhole open.
      </description>
    </setting>
    <setting name="media-keepalive-seconds" advanced="yes">
      <label>Media keep-alive interval</label>
      <type>
        <integer required="yes" />
      </type>
      <value>1</value>
      <description>
        Keep-alive timer for media (RTP) in seconds. If no media flows and after the time interval expired, sipXbridge
        will insert dummy media to keep the NAT pinhole open for the media ports.
      </description>
    </setting>
    <setting name="xml-rpc-port" advanced="yes" hidden="yes">
      <label>API port</label>
      <type>
        <integer />
      </type>
      <description>
        Port for external XML/RPC requests. If not specified, the XML RPC server is not started. The XML RPC interface
        is used by sipXconfig to report status to the user.
      </description>
    </setting>
    <setting name="max-number-of-concurrent-calls">
      <label>Maximum calls</label>
      <type>
        <integer />
      </type>
      <description>
        The maximum number of concurrent calls allowed via the given bridge and for all configured ITSPs. When the limit
        is reached, sipXbridge will return "Service Unavailable". If nothing is specified, no limit is placed on the
        max. number of concurrent calls.
      </description>
    </setting>
    <setting name="music-on-hold-support-enabled">
      <label>Music on hold</label>
      <type>
        <boolean>
          <true>
            <value>true</value>
          </true>
          <false>
            <value>false</value>
          </false>
        </boolean>
      </type>
      <value>false</value>
      <description>
        If checked sipXbridge Music On Hold support (MoH) is enabled. Phones should disable their MoH support if
        sipXbridge support for MOH is enabled. This feature allows playing MoH for phones that do not support MoH as
        required by sipXecs only for calls that go through sipXbridge.
      </description>
    </setting>
    <setting name="rtp-port-range-start" advanced="yes">
      <label>Start RTP port</label>
      <profileName>$ignore$</profileName>
      <type>
        <integer required="yes" />
      </type>
      <value>25000</value>
      <description>Start of the RTP ports range.</description>
    </setting>
    <setting name="rtp-port-range-end" advanced="yes">
      <label>End RTP port</label>
      <profileName>$ignore$</profileName>
      <type>
        <integer required="yes" />
      </type>
      <value>25500</value>
      <description>End of the RTP ports range.</description>
    </setting>
    <setting name="rtp-port-range" hidden="yes"></setting>
    <setting name="is-reinvite-supported" advanced="yes">
      <label>re-INVITE support</label>
      <type refid="switch" />
      <value>false</value>
      <description>
        If checked, media re-negotiation is supported for all ITSPs that are configured. If set, sipXbridge can
        re-negotiate the choice of codec when an ongoing call is transferred. This gives greater flexibility but can
        also result in failed transfers if the re-negotiation fails. This setting applies for all ITSPs that are
        configured on this instance of sipXbridge.
      </description>
    </setting>
    <setting name="allowed-codec-name" advanced="yes">
      <label>Allowed codec</label>
      <type>
        <enum>
          <option>
            <value>PCMU</value>
          </option>
          <option>
            <value>G729</value>
          </option>
          <option>
            <value>G723</value>
          </option>
        </enum>
      </type>
      <value>PCMU</value>
      <description>
        The codec for the SDP offer that is allowed. This parameter is ONLY relevant if the ITSPs do NOT support
        re-INVITE. Otherwise it is ignored. If the re-INVITE-supported flag is set to "false" then SDP offers and
        answers are filtered to allow only this codec through.
      </description>
    </setting>
    <setting name="route-inbound-calls-to-extension">
      <label>Incoming calls destination</label>
      <value>operator</value>
      <description>
        Determines where to send inbound calls. If empty, inbound calls are directly routed to the specified number in
        the inbound request and have to be redirected by aliases or dial plan rules. This setting applies to all ITSPs
        since it is not reliably possible to detect from which ITSP a call arrives if several ITSPs are configured. For
        incoming calls the ITSP domain is mapped to the own domain (i.e. if a call arrives with sip:1234@myitsp.com,
        then sipXbridge will map it to sip:1234@mydomain.com. An alias or user ID 1234 needs to exist or an alternative
        value can be specified in this field.)
      </description>
    </setting>
    <setting name="log-level" advanced="yes">
      <label>Logging level</label>
      <type>
        <enum>
          <option>
            <value>OFF</value>
          </option>
          <option>
            <value>INFO</value>
          </option>
          <option>
            <value>WARN</value>
          </option>
          <option>
            <value>ERROR</value>
          </option>
          <option>
            <value>DEBUG</value>
          </option>
        </enum>
      </type>
      <value>INFO</value>
      <description>Log configuration. Defaults to INFO level.</description>
    </setting>


    <setting name="log-directory" hidden="yes">
      <description>Log directory. The log file name is hard coded to "sipxbridge.log".</description>
    </setting>
  </group>
</model>
