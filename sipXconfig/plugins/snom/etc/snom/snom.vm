<!-- autogenerated profile for snom Phones -->
<!--  Model $phone.Model.Label Maxlines $phone.Model.MaxLineCount -->
<?xml version="1.0" encoding="utf-8"?>
<settings>
	<phone-settings e="2">
#foreach ($group in $phone.Settings.Values)
#if ($group.Name != 'fkeys')
#foreach ($setting in $group.Values)
#set ($profileName = ${setting.ProfileName})
#set ($permission = 'R')
#if ($profileName.toString().endsWith('$'))
#set ($permission = 'RW')
#end
#if ($profileName.toString().endsWith('!'))
#set ($permission = '!')
#end
		<${setting.name} perm="$permission">$!{setting.Value}</${setting.name}>
#end
#end
#end

		<!-- speeddial list -->
#foreach ($number in $speedDial)
#set ($i = $velocityCount - 1)
#set ($profileName = ${setting.ProfileName})
#set ($permission = 'R')
#if ($profileName.toString().endsWith('$'))
#set ($permission = 'RW')
#end
#if ($profileName.toString().endsWith('!'))
#set ($permission = '!')
#end
		<speed idx="${i}" perm="$permission">$number</speed>
#end
		<!-- identities -->
#foreach ($line in $phone.ProfileLines)
#set ($i = $velocityCount)
#foreach ($group in $line.Values)
#foreach ($setting in $group.Values)
#set ($profileName = ${setting.ProfileName})
#set ($permission = 'R')
#if ($profileName.toString().endsWith('$'))
#set ($permission = 'RW')
#end
#if ($profileName.toString().endsWith('!'))
#set ($permission = '!')
#end
		<${setting.ProfileName} idx="${i}" perm="$permission">$!{setting.Value}</${setting.ProfileName}>
#end
#end
#end
	</phone-settings>

	<!-- address book -->
	<tbook e="2">
#foreach ($entry in $phoneBook)
#set ($i = $velocityCount - 1)
		<item context="active" type="none" index="${i}">
			<name>$!{entry.FirstName} $!{entry.LastName}</name>
			<number>$!{entry.Number}</number>
			<search></search>
		</item>
#end
	</tbook>

	<!-- Function Keys -->
	<functionKeys e="2">
#foreach ($group in $phone.Settings.Values)
#if ($group.Name == 'fkeys')
#foreach ($fkey in $group.Values)
#set ($type = 'line')
#set ($context = 'active')
#set ($number = '')
#foreach ($prop in $fkey.Values)
#if ($prop.Name == 'type')
#set ($type = $prop.Value)
#end
#if ($prop.Name == 'context')
#set ($context = $prop.Value)
#end
#if ($prop.Name == 'number')
#set ($number = $prop.Value)
#end
#end
#set ($i = $velocityCount - 1)
#set ($profileName = ${setting.ProfileName})
#set ($permission = 'R')
#if ($profileName.toString().endsWith('$'))
#set ($permission = 'RW')
#end
#if ($profileName.toString().endsWith('!'))
#set ($permission = '!')
#end
		<fkey idx="${i}" context="$context" perm="$permission">$type $number</fkey>
#end
#end
#end
	</functionKeys>
</settings>
