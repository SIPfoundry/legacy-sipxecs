<div jwcid="@common/Border" useDojo="true">
<h2><span key="title" class="pageLabel">Configuration for Alarms</span></h2>

  <span jwcid="@common/TabNavigation"
    tabNames="ognl:{'configureAlarms', 'notificationGroups', 'historyAlarms'}"
    selectedTab="ognl:tab"/>
  <div id="settings-content">

    <span jwcid="@common/ErrorMsg"/>
    <span jwcid="@RenderBlock" block="ognl:components.get(tab + 'Tab')"/>
  </div>
  <div jwcid="configureAlarmsTab@Block">
  <span jwcid="@common/QuickHelp" value="message:quick.help" />
    <form jwcid="@Form" id="configAlarmForm" delegate="bean:validator">
      <ul class="component-links">
        <li jwcid="@common/ToggleLink" toggle="ognl:advanced"></li>
      </ul>
      <fieldset>
        <table>
          <tbody>
            <tr jwcid="@common/FieldPanel" for="enableEmailNotification"
              field="component:enableEmailNotification"
              label="message:label.enableAlarmServerEmailNotification">
              <span jwcid="enableEmailNotification@Checkbox"
                id="enableEmailNotification"
                value="ognl:alarmServer.emailNotificationEnabled" />
            </tr>
            <div jwcid="@If" condition="ognl:advanced" renderTag="false">
              <tr jwcid="@common/FieldPanel" for="fromEmailAddress"
                field="ognl:components.fromEmailAddress" label="message:label.fromEmailAddress">
                <span jwcid="fromEmailAddress@TextField" id="fromEmailAddress"
                  value="ognl:alarmServer.fromEmailAddress"
                  displayName="message:label.fromEmailAddress"/>
              </tr>
            </div>
          </tbody>
        </table>
      </fieldset>
      <div jwcid="@If" condition="ognl:advanced" renderTag="false">
        <fieldset>
        <legend><span key="label.alarms"/></legend>
        </fieldset>
        <div jwcid="@admin/AlarmTypes" validator="bean:validator"
           selections="ognl:selections"
           alarms="ognl:alarms"
           alarmGroupModel="ognl:alarmGroupModel"/>
      </div>
      <ul jwcid="formActions@common/FormActions" listener="listener:activate"/>
    </form>
  </div>
  <div jwcid="notificationGroupsTab@Block">
	<form jwcid="alarmGroupsForm@Form" delegate="bean:validator">
	  <span jwcid="notificationGroupsComponent@admin/AlarmGroupsPanel"/>
	</form>
  </div>
  <div jwcid="historyAlarmsTab@Block">
    <span jwcid="historyAlarmsComponent@admin/HistoryAlarmsPanel" validator="bean:validator"/>
  </div>
</div>
