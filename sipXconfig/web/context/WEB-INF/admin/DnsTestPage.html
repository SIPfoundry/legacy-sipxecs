<div jwcid="@common/Border" useDojo="true">
  <h2><span key="title">DNS Test Results</span></h2>
  <div jwcid="showPrompt@If" condition="ognl:dnsTestContext.runTestNeeded" class="user-warning">
    <span key="prompt.runtest">Run test needed</span>
  </div>
  <span jwcid="@common/QuickHelp" value="message:quick.help" />

  <form jwcid="dnsTestForm@Form" delegate="bean:validator">
      <fieldset>
	      <span jwcid="@common/FieldPanel" for="provideDns" field="component:provideDns"
		      label="message:label.provideDns"
		      description="message:description.provideDns">
            <span jwcid="provideDns@Checkbox" id="provideDns"
              value="ognl:provideDns"/>
          </span>
          <p>
            <input jwcid="runTest@Submit" listener="listener:execute" 
              value="message:button.runtest"/> 
          </p>
          <div jwcid="testResults@If" condition="ognl:!dnsTestContext.runTestNeeded">
			<span>
				<span jwcid="@If" condition="ognl:!dnsTestContext.valid">
					<img jwcid="@Image" image="asset:dnsErrorImage" align="absmiddle" />
					<b><span jwcid="@Insert" value="message:validationDns.labelError"/></b><br/>
				</span>
				<span jwcid="@Else">
					<img jwcid="@Image" image="asset:dnsSuccessImage" align="absmiddle" />
					<b><span jwcid="@Insert" value="message:validationDns.labelSuccess"/></b><br/>
				</span>
				<span jwcid="validation@Insert" value="message:validationDns.description"/>
				<ul>
					<span jwcid="dnsTestLink@common/ToggleLink" toggle="ognl:showTestResults"
						labelOn="message:test.hideDetails"
						labelOff="message:test.showDetails"/>
				</ul>
				<span jwcid="@If" condition="ognl:showTestResults" renderTag="false">
					<textarea jwcid="dnsTestStatus@Any" rows="30" cols="100" readonly="ognl:true">
						<span jwcid="@Insert" value="ognl:dnsTestContext.result"/>
					</textarea>
				</span>
			</span>
		</div>
      </fieldset>
  </form>
  <form jwcid="detailedHelpForm@Form">
   <fieldset>
	<span jwcid="detailedHelpLink@common/ToggleLink" toggle="ognl:showDetailedHelp"
		  labelOn="message:toggle.hideDetailedHelp"
		  labelOff="message:toggle.showDetailedHelp"/>
    <span jwcid="@If" condition="ognl:showDetailedHelp" renderTag="false">
	  <span key="title.detailedHelp" renderTag="false"/><br/>
	  <textarea jwcid="detailedHelp@Any"rows="30" cols="100" readonly="ognl:true" style="margin-left:9px">
			<span jwcid="@Insert" value="message:detailedHelp" renderTag="false"/>
	  </textarea>
    </span>
   </fieldset>
  </form>
</div>
