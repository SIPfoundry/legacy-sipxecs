<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Backup</title>
<link rel="stylesheet"
  href="../../../src/org/sipfoundry/sipxconfig/site/skin/sipxecs.css">
<style>
/* only for development - stripped in product*/
body {
  margin-left: 250px;
  margin-top: 86px;
}
</style>
</head>
<body jwcid="$content$">
  <div jwcid="@common/Border" borderTitle="ognl:borderTitle">
    <div jwcid="@common/LeftNavigation">
    <ul id="leftNavAbsolute" class="htabs">
      <li id="local-tab" class="tab active"><a
        id="local-tab-link" href="#"><span key="tab.backup">Backup</span></a>
      </li>
      <li id="ftp-tab" class="tab"><a
        id="ftp-tab-link" href="#"><span key="tab.backup-ftp">Backup to FTP</span></a></li>       
    </ul>
    </div>
    <p id="message"></p>
    <div id="backup">
      <fieldset>
        <table>
          <tbody id="db-settings">
          </tbody>
        </table>
      </fieldset>
      <div id="local">
        <span jwcid="@common/QuickHelp" value="message:local.help"/>
        <!--  non-FTP content only, none at this time -->
      </div>
      <fieldset id="ftp" style="display: none;">
        <span jwcid="@common/QuickHelp" value="message:ftp.help"/>
        <table>
          <tbody id="ftp-settings">
          </tbody>
        </table>
      </fieldset>  
      <fieldset>
        <legend>
          Files
        </legend>
        <ul id="archives">
        </ul>
        <table>
          <tbody>
            <tr>
              <td width="25%">
                <label class="settingLabel" for="backup-limit">Number of backups to keep</label>
              </td>
              <td>    
                <select name="backup-limit" id="backup-limit">
                  <option value="">Unlimited</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                  <option>10</option>
                  <option>20</option>
                  <option>30</option>
                  <option>40</option>
                  <option>50</option>
                </select>
              </td>
              <td>            
              </td>
            </tr>
            <tr>
              <td></td>
              <td colspan="2">
                <span class="settingDescription">After the limit is reached, the oldest backup will be deleted as each new backup is performed.</span><br>
              </td>
            </tr>
          </tbody>
        </table>
      </fieldset>
      <ul class="form-actions">
        <li>
          <button id="backup-now">Backup Now</button>
        </li>
      </ul>
      <fieldset>
        <legend>
          Schedule
        </legend>
        <p>
          <input type="checkbox" id="dailyScheduleEnabled"> 
          <select name="dailyScheduledDay" id="dailyScheduledDay">
            <option jwcid="@common/Message" value="0" key="dayOfWeek.0">Every day</option>
            <option jwcid="@common/Message" value="1" key="dayOfWeek.1">Sunday</option>
            <option jwcid="@common/Message" value="2" key="dayOfWeek.2">Monday</option>
            <option jwcid="@common/Message" value="3" key="dayOfWeek.3">Tuesday</option>
            <option jwcid="@common/Message" value="4" key="dayOfWeek.4">Wednesday</option>
            <option jwcid="@common/Message" value="5" key="dayOfWeek.5">Thursday</option>
            <option jwcid="@common/Message" value="6" key="dayOfWeek.6">Friday</option>
            <option jwcid="@common/Message" value="7" key="dayOfWeek.7">Saturday</option>
          </select> 
          <input type="text" id="dailyScheduledTime">
        </p>
      </fieldset>
      <ul class="form-actions">
        <li>
          <button id="apply"><span key="button.apply">Apply</span></button>
        </li>  
      </ul>    
      <fieldset>
        <legend>
          <span jwcid="@common/Message" key="msg.backups">Backups</span>
        </legend>
        <p>
          <span id="inprogress" ><img src="/sipxconfig/images/loading.gif"/>
          <span key="label.inprogress">Operation in progress...</span>
        </span>&nbsp;</p>
        <ul class="component" id="backups">
          <li>There are no backup files saved in the backup folder.</li>
        </ul>
      </fieldset>    
    </div>
    <span id="rc" style="display: none"> 
      <span jwcid="@common/Message" key="message.backupCompleted">Backup Complete</span>
      <span jwcid="@common/Message" key="msg.actionSuccess">OK</span>
    </span>
    <script jwcid="@common/DartCode" type="application/dart" src="BackupPage.dart"></script>
    <script jwcid="@common/DartCode"
      src="../../../packages/browser/dart.js"></script>
  </div>
</body>
</html>
