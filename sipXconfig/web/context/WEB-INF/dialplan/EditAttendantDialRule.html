<div jwcid="dialRuleCommon">
  <fieldset>
    <table>
      <tbody>
        <tr for="rule:extension" jwcid="extensionPanel">
          <input jwcid="extension" id="rule:extension" type="text" />
        </tr>
        <tr for="rule:autoAttendantAliases" jwcid="autoAttendantAliasesPanel">
          <input jwcid="autoAttendantAliases" id="rule:autoAttendantAliases" type="text" />
        </tr>
        <tr jwcid="@common/FieldPanel"
            field="component:did"
            label="message:label.did"
            description="message:description.did" >
          <input jwcid="did@TextField"
                 value="ognl:rule.did"
                 displayName="message:label.did"
                 validators="spring-validators:validSipUserId"/>
        </tr>
        <!-- after hours attendant -->
        <tr for="rule:afterHoursAttendant" jwcid="afterHoursAttendantPanel">
          <input jwcid="afterHoursAttendant" id="rule:afterHoursAttendant" type="text" />
        </tr>
        <!-- live attendant -->
		<tr jwcid="@common/FieldPanel" for="liveAttendant" field="component:liveAttendant" class="form-actions"
			label="message:label.liveAttendant"
			description="message:description.liveAttendant">
		  <input jwcid="liveAttendant@Checkbox" id="liveAttendant"
			  value="ognl:rule.liveAttendant"
			  onchange="javascript:this.form.submit();" />
		</tr>
		<span jwcid="@If" condition="ognl:rule.liveAttendant">
		  <tr jwcid="@common/FieldPanel" field="component:liveAttendantExtension"
			  label="message:label.liveAttendantExtension"
			  description="message:description.liveAttendantExtension">
			<span jwcid="liveAttendantExtension@TextField" id="liveAttendantExtension"
				value="ognl:rule.liveAttendantExtension"
				displayName="message:label.liveAttendantExtension"
				validators="spring-validators:required,validSipUserId,validFieldSize"/>
		  </tr>
		  <tr jwcid="@common/FieldPanel" field="component:liveAttendantCode"
			  label="message:label.liveAttendantCode"
			  description="message:description.liveAttendantCode">
			<span jwcid="liveAttendantCode@TextField" id="liveAttendantCode"
				value="ognl:rule.liveAttendantCode"
				displayName="message:label.liveAttendantCode"/>
		  </tr>
		  <tr jwcid="@common/FieldPanel" field="component:liveAttendantRingFor"
			  label="message:label.liveAttendantRingFor">
			<span jwcid="liveAttendantRingFor@TextField" id="liveAttendantRingFor"
				value="ognl:rule.liveAttendantRingFor"
				translator="translator:integer" validators="spring-validators:required,min=0,max=1200"
				displayName="message:label.liveAttendantRingFor"/>
			<span jwcid="@Insert" value="message:label.seconds"/>
		  </tr>
		  <tr jwcid="@common/FieldPanel" field="component:followUserCallForward"
			  label="message:label.followUserCallForward"
			  description="message:description.followUserCallForward">
			<input jwcid="followUserCallForward@Checkbox" id="followUserCallForward"
				value="ognl:rule.followUserCallForward" />
		  </tr>
		  <tr jwcid="@common/FieldPanel" for="schedule" field="ognl:null"
			  label="message:label.schedule"
			  description="message:description.schedule">
			<span jwcid="schedule@user_portal/ScheduleSelector"
				scheduleContainer="ognl:rule"
				availableSchedules="ognl:availableSchedules" />
		  </tr>
		</span>
	  </tbody>
	</table>
  </fieldset>
  <!-- working hours attendant-->
  <fieldset>
    <table>
      <tbody>
        <tr for="rule:workingTimeAttendant" jwcid="workingTimeAttendantPanel">
          <input jwcid="workingTimeAttendant" id="rule:workingTimeAttendant" type="text" />
        </tr>
        <tr jwcid="renderWorkingHoursConfig">
        <td colspan="3">
        <table>
          <tr jwcid="workingHours">
            <span jwcid="workingDay" />
          </tr>
        </table>
        </td>
        </tr>
      </tbody>
    </table>
  </fieldset>
  <!-- holiday attendant -->
  <fieldset>
    <table>
      <tbody>
        <tr for="rule:holidayAttendant" jwcid="holidayAttendantPanel">
          <input jwcid="holidayAttendant" id="rule:holidayAttendant" type="text" />
        </tr>
        <tr jwcid="renderHolidayConfig">
        <td colspan="3">
        <table>
          <tr jwcid="holidayDates" />
        </table>
        </td>
        </tr>
      </tbody>
    </table>
  </fieldset>
</div>
