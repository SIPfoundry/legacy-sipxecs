set daemon  10                                  # check services at 10 seconds intervals
set logfile /var/log/sipxpbx/edge/monit_edge.log     # Monit standalone log file
set idfile /var/log/sipxpbx/edge/monit_edge.id       # Set the location of the Monit id file which stores the unique id
set statefile /var/log/sipxpbx/edge/monit.state      # Set the location of the Monit state file which saves monitoring states


#
# Monit built-in web server
#
set httpd port %SIPXEDGE_MONIT_HTTPPORT% and
  allow admin:%SIPXEDGE_MONIT_PASSWORD%         # require user 'admin' with password

#
# Monitor SIPXWEBRTC Process
#
check process sipxwebrtc with pidfile /var/log/sipxpbx/edge/sipxwebrtc.pid
  start program "/usr/bin/sipxwebrtcd start"
  stop program "/usr/bin/sipxwebrtcd stop"

#
# Monitor FREESWITCH Process
#
check process freeswitch with pidfile  /var/log/sipxpbx/edge/freeswitch.pid
    start program "/usr/bin/freeswitch_edged start"
    stop program "/usr/bin/freeswitch_edged stop"

#
# Monitor SEMS Process
#
check process sems with pidfile  /var/log/sipxpbx/edge/sems.pid
    start program "/usr/bin/sems_edged start"
    stop program "/usr/bin/sems_edged stop"

